---
layout: post
title: 评论框编辑器修改小记
pid: 35
comments: true
tags: [PhilNa2, WordPress, 原创]
categories: [WordPress]
---
前几天看了IM路人的文章,[为评论框添加简单文字编辑器](http://imluren.com/2011/01/simple-editor-tools.html),讲的是给评论框添加简单的编辑器.我看了以后,感觉很好用.所以就到luren那里取经.给自己的博客也弄上了. :lol:

真的很好用.可是用了几天,我就想要是能够插入代码该多好啊.所以就又翻了一下那个方法.最后成功添加.
具体方法去luren的博客上去看吧.

我只是在原来的几个按钮的基础上又添加了一个syntax的按钮.
刚上来的效果是直接点击按钮出现&lt; pre lang=""&gt;&lt; /pre&gt;的效果,我想这样再把光标移动到引号里面很不友好啊.
所以还是要想想办法. 正好看到了那个link的按钮.点击那个按钮会出现对话框.让你输入一个网址,这个和我要的效果一样啊.嘿嘿.拿来用用.
把ahref那个函数复制了一下.改了一下参数神马的.再在*commentform.php*文件里面加个调用.OK :lol:

但是还有个小问题.就是很多时候我输入的代码都不知道是具体的神马语言.再加个判断吧,不知道的直接按OK按钮,然后自动添加unknown. :evil:
OK 小记完毕!

*Update(4-5):*我又增加了一个斜体标签.这样编辑器就更完美啦 :eek:

*Update(4-6):*还搞什么判断啊,link函数点击之后每次自动添加的*http://* 不就是我想要的吗?直接改成unknown不就完事了吗? :mad: 我傻X啦......

*注意啦.*那个包含函数的js文件里面最后一个函数后面没有逗号.前面的都有逗号,如果你复制的是最后一个函数进行修改的话,我只能说你悲催了. :lol: 你添加完调用后会所有的按钮都失效.再加个逗号分隔一下就行啦.
